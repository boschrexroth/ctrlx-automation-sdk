
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="ctrlX AUTOMATION Software Development Kit">
      
      
        <meta name="author" content="Bosch Rexroth AG">
      
      
        <link rel="canonical" href="https://boschrexroth.github.io/ctrlx-automation-sdk/persistdata.html">
      
      <link rel="icon" href="assets/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.11">
    
    
      
        <title>Data Persistance - Software Development Kit</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.8c5ef100.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.9647289d.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="stylesheets/sdk.css">
    
    <script>__md_scope=new URL(".",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="rexroth-light" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#table-of-content" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="Software Development Kit" class="md-header__button md-logo" aria-label="Software Development Kit" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Software Development Kit
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Data Persistance
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="rexroth-light" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/boschrexroth/ctrlx-automation-sdk" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    boschrexroth/ctrlx-automation-sdk
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="index.html" class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="overview.html" class="md-tabs__link md-tabs__link--active">
        Getting Started
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="setup_overview.html" class="md-tabs__link">
        Setup
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="samples.html" class="md-tabs__link">
        Samples
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="references.html" class="md-tabs__link">
        References
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="about.html" class="md-tabs__link">
      About
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="Software Development Kit" class="md-nav__button md-logo" aria-label="Software Development Kit" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Software Development Kit
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/boschrexroth/ctrlx-automation-sdk" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    boschrexroth/ctrlx-automation-sdk
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="overview.html" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="ctrlx_automation.html" class="md-nav__link">
        ctrlX AUTOMATION
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" type="checkbox" id="__nav_2_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3">
          Guidelines
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Guidelines" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Guidelines
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="package-manifest.html" class="md-nav__link">
        Package Manifest
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="appdevguide.html" class="md-nav__link">
        Developer Guideline
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Data Persistance
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="persistdata.html" class="md-nav__link md-nav__link--active">
        Data Persistance
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-content" class="md-nav__link">
    Table of content
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-introduction" class="md-nav__link">
    1 Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-get-access-to-the-solutions-storage" class="md-nav__link">
    2 Get access to the Solutions storage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-specify-your-app-directories" class="md-nav__link">
    3 Specify your app directories
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-register-for-saving-and-loading" class="md-nav__link">
    4 Register for saving and loading
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-implement-saving-and-loading" class="md-nav__link">
    5 Implement saving and loading
  </a>
  
    <nav class="md-nav" aria-label="5 Implement saving and loading">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#processing-sequences" class="md-nav__link">
    Processing sequences
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request-parameters" class="md-nav__link">
    Request parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expected-behavior" class="md-nav__link">
    Expected behavior
  </a>
  
    <nav class="md-nav" aria-label="Expected behavior">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#success-behavior" class="md-nav__link">
    Success behavior
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#failure-behavior" class="md-nav__link">
    Failure behavior
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diagnostic-messages" class="md-nav__link">
    Diagnostic messages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#robustness" class="md-nav__link">
    Robustness
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invariants" class="md-nav__link">
    Invariants
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from-copying-to-smart-loading" class="md-nav__link">
    From copying to smart loading
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix" class="md-nav__link">
    Appendix
  </a>
  
    <nav class="md-nav" aria-label="Appendix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#annotated-load-process" class="md-nav__link">
    Annotated load process
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-loading-sequences" class="md-nav__link">
    Example loading sequences
  </a>
  
    <nav class="md-nav" aria-label="Example loading sequences">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cancelled" class="md-nav__link">
    Cancelled
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#succeeded" class="md-nav__link">
    Succeeded
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#failed" class="md-nav__link">
    Failed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-schema-definition" class="md-nav__link">
    Problem schema definition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-private-files" class="md-nav__link">
    App-private files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="licensing.html" class="md-nav__link">
        License Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="s2sauth.html" class="md-nav__link">
        Service-to-Service Authentication
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" type="checkbox" id="__nav_2_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_4">
          Releases
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Releases" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          Releases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="changelog.html" class="md-nav__link">
        Changelog
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Setup
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Setup" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Setup
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="setup_overview.html" class="md-nav__link">
        Setup Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="quick-start-guide.html" class="md-nav__link">
        Quick Start Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="setup_qemu_ctrlx_works.html" class="md-nav__link">
        ctrlX WORKS App Build Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="setup_qemu_ubuntu.html" class="md-nav__link">
        QEMU Virtual Machine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="setup_windows_virtualbox_ubuntu.html" class="md-nav__link">
        VirtualBox Virtual Machine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="setup_ubuntu.html" class="md-nav__link">
        Native Ubuntu 20.04
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_7" type="checkbox" id="__nav_3_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_7">
          Toolchain
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Toolchain" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_7">
          <span class="md-nav__icon md-icon"></span>
          Toolchain
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="px.html" class="md-nav__link">
        Using Px.exe as Proxy on a Windows Host
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="connecting_qemu_vm_ctrlx.html" class="md-nav__link">
        Connecting SDK QEMU VMs and ctrlX CORE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="ssh_connection.html" class="md-nav__link">
        SSH Connection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="vscode.html" class="md-nav__link">
        Visual Studio Code
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="dotnet.html" class="md-nav__link">
        .NET
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="remote-build.html" class="md-nav__link">
        Using Snapcraft Remote Build from Canonical
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Samples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Samples" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Samples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="samples.html" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="samples-cpp/index.html" class="md-nav__link">
        Samples C/C++
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="samples-go/index.html" class="md-nav__link">
        Samples Go
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="samples-python/index.html" class="md-nav__link">
        Samples Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="samples-net/index.html" class="md-nav__link">
        Samples .NET
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="samples-node/index.html" class="md-nav__link">
        Samples Nodejs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="samples-sh/index.html" class="md-nav__link">
        Samples Shell
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="samples-snap/index.html" class="md-nav__link">
        Samples Snap
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="build.html" class="md-nav__link">
        Build And Install
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="debug.html" class="md-nav__link">
        Debugging
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          References
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="References" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          References
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="references.html" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_2">
          Api Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Api Reference" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Api Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://apps.boschrexroth.com/docs/ctrlx/csharp/html/index.html" class="md-nav__link">
        c#
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://apps.boschrexroth.com/docs/ctrlx/python/html/index.html" class="md-nav__link">
        python
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="about.html" class="md-nav__link">
        About
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-content" class="md-nav__link">
    Table of content
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-introduction" class="md-nav__link">
    1 Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-get-access-to-the-solutions-storage" class="md-nav__link">
    2 Get access to the Solutions storage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-specify-your-app-directories" class="md-nav__link">
    3 Specify your app directories
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-register-for-saving-and-loading" class="md-nav__link">
    4 Register for saving and loading
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-implement-saving-and-loading" class="md-nav__link">
    5 Implement saving and loading
  </a>
  
    <nav class="md-nav" aria-label="5 Implement saving and loading">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#processing-sequences" class="md-nav__link">
    Processing sequences
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request-parameters" class="md-nav__link">
    Request parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expected-behavior" class="md-nav__link">
    Expected behavior
  </a>
  
    <nav class="md-nav" aria-label="Expected behavior">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#success-behavior" class="md-nav__link">
    Success behavior
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#failure-behavior" class="md-nav__link">
    Failure behavior
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diagnostic-messages" class="md-nav__link">
    Diagnostic messages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#robustness" class="md-nav__link">
    Robustness
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invariants" class="md-nav__link">
    Invariants
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from-copying-to-smart-loading" class="md-nav__link">
    From copying to smart loading
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix" class="md-nav__link">
    Appendix
  </a>
  
    <nav class="md-nav" aria-label="Appendix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#annotated-load-process" class="md-nav__link">
    Annotated load process
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-loading-sequences" class="md-nav__link">
    Example loading sequences
  </a>
  
    <nav class="md-nav" aria-label="Example loading sequences">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cancelled" class="md-nav__link">
    Cancelled
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#succeeded" class="md-nav__link">
    Succeeded
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#failed" class="md-nav__link">
    Failed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-schema-definition" class="md-nav__link">
    Problem schema definition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-private-files" class="md-nav__link">
    App-private files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/boschrexroth/ctrlx-automation-sdk/edit/master/doc/persistdata.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



  <h1>Data Persistance</h1>

<p><strong>Copyright</strong>
© Bosch Rexroth AG 2021
This document, as well as the data, specifications and other information set forth in it, are the exclusive property of Bosch Rexroth AG. It may not be reproduced or given to third parties without our consent.</p>
<p><strong>Liability</strong> The information in this document is intended for product description purposes only and shall not be deemed to be a guaranteed characteristic, unless expressly stipulated by contract. All rights are reserved with respect to the content of this documentation and the availability of the product.</p>
<h3 id="table-of-content"><strong>Table of content</strong><a class="headerlink" href="#table-of-content" title="Permanent link">&para;</a></h3>
<p><a href="#introduction">1 Introduction</a></p>
<p><a href="#access">2 Get access to the Solutions storage</a></p>
<p><a href="#specify">3 Specify your app directories</a></p>
<p><a href="#register">4 Register for saving and loading</a></p>
<p><a href="#implement">5 Implement saving and loading</a></p>
<p><a href="#appendix">Appendix</a></p>
<h2 id="1-introduction">1 Introduction<a name="introduction"></a><a class="headerlink" href="#1-introduction" title="Permanent link">&para;</a></h2>
<p>This How-To shows how to integrate an App into the common ctrlX persistence and storage mechanisms.
Persistence handling is done by the Solutions App (app.solutions), which is an essential part of any ctrlX CORE device. It provides a central storage for other apps that need to persist their app data. App data is saved to the storage or loaded from the storage on demand (via app editors, the "Manage app data" UI, or the Solutions REST API).</p>
<p><img alt="image" src="images/How-To-Persist-app-data-Fig01_Overview.png" /></p>
<p>The diagram shows that the storage provided by the Solutions app is structured into two conceptual locations:</p>
<ul>
<li>The appdata location contains the files representing the current state of the apps and is owned by the apps.</li>
<li>The archive contains saved configurations and is managed by the Solutions app.</li>
</ul>
<p>The responsibilities of the Solutions app and Apps that persist their data in the Solutions storage are allocated as follows:</p>
<p><strong>Solutions (app.solutions):</strong>
- Provide file storage and make appdata directory available via the activeConfiguration symlink
- Trigger and coordinate "save" and "load" operations and collect results
- Manage the archived configurations (Web UI, REST API)</p>
<p><strong>Apps:</strong>
- Participate in loading and saving
- Use and update the files in their appdata directories
- Must not change the contents of archived configurations</p>
<h2 id="2-get-access-to-the-solutions-storage">2 Get access to the Solutions storage<a name="access"></a><a class="headerlink" href="#2-get-access-to-the-solutions-storage" title="Permanent link">&para;</a></h2>
<p>The Solutions app exports the base directory of the storage location as a slot using a content interface. Your app must provide a plug that connects to the slot so that the $SNAP_COMMON/solutions directory becomes visible in your file system:</p>
<p><strong>snapcraft.yaml:</strong>
<div class="highlight"><pre><span></span><code><span class="nt">plugs</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">active-solution</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">interface</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">content</span><span class="w"></span>
<span class="w">    </span><span class="nt">content</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">solutions</span><span class="w"></span>
<span class="w">    </span><span class="nt">target</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$SNAP_COMMON/solutions</span><span class="w"></span>
</code></pre></div>
The <code>$SNAP_COMMON/solution</code> directory contains an <code>activeConfiguration</code> symlink. Use this symlink to get the path to the appdata directory which contains the currently active app data: <code>$SNAP_COMMON/solutions/activeConfiguration</code> → <code>$SNAP_COMMON/solutions/DefaultSolution/configurations/appdata/</code></p>
<blockquote>
<p><strong>Note:</strong></p>
<p>Your app might start before the <strong>active-solution</strong> interface is connected by the system. You can handle this scenario in two ways:</p>
<ul>
<li>
<p>Use an entry-point script and check status of the <strong>active-solution</strong> interface using snapctl is-connected active-solution; e.g. create a script which has the following content and is defined in your snapcraft.yaml as the command to execute:</p>
<p>#!/bin/bash</p>
<p>while ! snapctl is-connected active-solution
   do
       sleep 5
   done</p>
<p>$SNAP/bin/<your executable></p>
</li>
<li>
<p>Check existence of the folder <code>$SNAP_COMMON/solutions/activeConfiguration</code> in your application logic</p>
</li>
</ul>
<p>In a development environment, you can check the connection of the <strong>active-solution interface</strong> by
- calling <em>snap connections</em> and checking whether there is an entry with &gt; <strong>interface content[solutions]</strong> for the <strong>plug \&lt;your app name>:active-solution</strong> and <strong>slot rexroth-solutions:active-solution</strong>
- running a shell in the context of your app and checking the content of the folder <code>$SNAP_COMMON/solutions</code> which must contain a folder <strong>DefaultSolution</strong> and the two symlinks <strong>activeSolution</strong> and <strong>activeConfiguration</strong>. The shell can be started with <em>snap run --shell \&lt;your app name>.\&lt;your app command></em></p>
</blockquote>
<h2 id="3-specify-your-app-directories">3 Specify your app directories<a name="specify"></a><a class="headerlink" href="#3-specify-your-app-directories" title="Permanent link">&para;</a></h2>
<p>Within the appdata root directory, define a sub-directory with a unique name as your base directory. We recommend to use your app's name in lowercase letters to avoid conflicts with other apps and allow users to easily identify your data in the file system. The screenshot shows an example with the base directories of the Motion and PLC apps, among others.</p>
<p><img alt="image" src="images/How-To-Persist-app-data-Fig02_configuation-screenshot.png" /></p>
<p>You should also explicitly declare ownership of your app directories in your package manifest. The following example shows the declaration of the PLC base directory.</p>
<p><strong>package-manifest.json:</strong></p>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;configuration&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;appDirectories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;plc&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PLC&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bosch-ic-components&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;copyOnLoad&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<ul>
<li><strong>name</strong> (required): The name or path of the app directory</li>
<li><strong>description</strong>: The title to display in the "Manage app data" content view (should be consistent with title used e.g. in sidebar menu); if omitted or empty, the app directory does not appear in the content view</li>
<li><strong>icon</strong>: The app icon to display in the "Manage app data" content view (should be consistent with icon used e.g. in sidebar menu); if omitted or empty, no icon is displayed in the content view</li>
<li><strong>copyOnLoad</strong>: Set “true” to instruct the Solutions app to copy the data from your app directory in the archive to the active configuration on load; omit (or set "false") to enable custom "smart loading"; see section "From copying to smart loading" for details</li>
<li><strong>writeProtected</strong>: By default, app directories and their contents can be changed by users with "Manage configurations" permissions (e.g., via WebDAV). Set "true" for your root app directory to protect your app directory and its sub-directories in the active configuration against changes by users; omit (or set "false") for specific sub-directories to provide write-access to those directories. Since XCR-V-0112.</li>
</ul>
<p>Configuration contents should generally have the following properties:</p>
<ul>
<li><strong>Compatible</strong>: Changes to content formats should not break existing applications (new format definitions accept old contents).</li>
<li><strong>Human-readable</strong>: Formats should be human-readable and therefore be text-based (which also allows comparisons between different versions). Names and values should be descriptive and understandable, e.g. by using well-known domain vocabulary.</li>
<li><strong>Extendable</strong>: Device and engineering functionality will enhance from version to version. You should make sure that your file formats are extendible to cope with new use cases.</li>
</ul>
<p>We recommend JSON as the file format where possible, as it supports these properties. You may also consider to provide corresponding JSON-schema files to enable guidance and validation. In any case, JSON files should contain a root object (NOT an array) to enable schema references and extendibility.</p>
<p><strong>Remark:</strong>
Your app can specify "private files" inside your appdata directories in order to exclude them from save and load operations. See appendix "App-private files" for details.</p>
<h2 id="4-register-for-saving-and-loading">4 Register for saving and loading<a name="register"></a><a class="headerlink" href="#4-register-for-saving-and-loading" title="Permanent link">&para;</a></h2>
<p>In order to participate in the save and load operations triggered by the Solutions app, your app must register its own save and load commands. The following example shows how to register a save and a load command for Motion settings by adding the respective command declarations to the package manifest:</p>
<p><strong>package-manifest.json:</strong>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;commands&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;activeConfiguration&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;save&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;motion&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;subject&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;motion settings&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/automation/api/v1/motion/admin/cfg/save&quot;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;load&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;motion&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;subject&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;motion settings&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/automation/api/v1/motion/admin/cfg/load&quot;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
For each command, the following elements must be specified:</p>
<ul>
<li><strong>id</strong> (required): a string serving as the identifier of the save or load command; must be unique within the “commands/activeConfiguration/save” and “commands/activeConfiguration/load” paths, respectively</li>
<li><strong>subject</strong> (required): a string denoting what will be saved or loaded; used to inform users, e.g. in messages like “Loading <em>motion settings</em>” or “Failed to load <em>motion settings</em>”</li>
<li><strong>url</strong> (required): a string representing the request URL; URLs starting with a slash are interpreted to be relative to https://\&lt;host> (the control itself). Declare an absolute URL if you need to specify a port, e.g. <code>http://localhost:5555/my-app/api/v1/save</code>. The URL is used for HTTP POST requests which include command parameters in the request body (see section "Request parameters" for details)</li>
</ul>
<p>By default there is no defined order of command execution. Starting with version XCR-V-0112, a command may declare that it needs to be executed <strong>after</strong> other commands. If this is required (which should be the exception), add an after element to your command declaration with an array containing the IDs of the predecessor commands.</p>
<blockquote>
<p><strong>Note: Hint for developers providing Data Layer endpoints for loading and saving</strong></p>
<p>In order to make the Data Layer endpoints for saving and loading a configuration consistent, the respective URLs should adhere to the following pattern:</p>
<p>\&lt;datalayer-basepath>/\&lt;<strong>technology</strong>>/admin/cfg/\&lt;operation></p>
<p>Examples:
   - /automation/api/v1/<strong>scheduler</strong>/admin/cfg/save(or load)
   - /automation/api/v1/<strong>fieldbuses/ethercat/master</strong>/admin/cfg/save (or load)
   - /automation/api/v1/<strong>motion</strong>/admin/cfg/save (or load)</p>
</blockquote>
<h2 id="5-implement-saving-and-loading">5 Implement saving and loading<a name="implement"></a><a class="headerlink" href="#5-implement-saving-and-loading" title="Permanent link">&para;</a></h2>
<p>With the term "participants" we refer to apps that have registered save and load commands in order to participate in save and load operations as described in the previous section.</p>
<h3 id="processing-sequences">Processing sequences<a class="headerlink" href="#processing-sequences" title="Permanent link">&para;</a></h3>
<p>Save and load operations triggered by the Solutions app are processed in phases. In each phase, the Solutions app sends requests to all registered participants sequentially in undefined order; that is, participants must not depend on each other.</p>
<p>A <strong>save operation</strong> is processed in one phase:</p>
<ol>
<li><strong>save</strong>: Save current app state into active configuration (appdata directory)</li>
</ol>
<p>A <strong>load operation</strong> is processed in five phases:</p>
<ol>
<li><strong>query</strong>: Check if loading is possible in the current system state</li>
<li><strong>prepare</strong>: Perform any required preparatory steps</li>
<li><strong>load</strong>: Load archived configuration into the apps, and persist resulting app state to the active configuration (appdata directory)</li>
<li><strong>validate</strong>: Perform any required post-processing steps</li>
<li><strong>activate</strong> (if phases 1-4 have been finished without problems): Establish desired run state of the device; <strong>abort</strong> (otherwise): Do not change run state of the device</li>
</ol>
<p>If the query phase (1) has been completed without any error or problem response, the processing continues with the following phases (2-5) in the specified order. Otherwise, the load operation is canceled and the errors and problems are reported to the user.</p>
<p>Any errors or problems that occur during phases 2-5 are collected and reported to the user when the whole operation is completed.</p>
<p>A more detailed description of the load phases and example sequences can be found in the Appendix.</p>
<h3 id="request-parameters">Request parameters<a class="headerlink" href="#request-parameters" title="Permanent link">&para;</a></h3>
<p>The following information is sent as request parameters to all participants in all save and load phases:</p>
<ul>
<li><strong>configurationPath</strong>: the directory of the configuration to be loaded, starting from the solutions directory, e.g. "solutions/DefaultSolution/configurations/<configuration>"; in case of a save operation, the configuration path should be ignored, as the target of saving is always the active configuration (appdata directory)</li>
<li><strong>id</strong>: a random code which identifies the instance of save or load operation, e.g. "282xy5"; also used to find corresponding messages in the Logbook; should be included in the dynamic description of diagnostic messages and trace messages by all participants; convention: put in square brackets at the end of diagnostic messages and trace messages; see section "Diagnostic messages" for details</li>
<li><strong>phase</strong>: specifies the current processing phase of a save or load operation; one of the phases described in section "Processing sequences"; e.g., "load"</li>
</ul>
<p>The request parameters are provided in the request body as a JSON object with the following structure (using the sample values from above):
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;configurationPath&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;solutions/DefaultSolution/configurations/&lt;configuration&gt;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;282xy5&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;phase&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;load&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div></p>
<h3 id="expected-behavior">Expected behavior<a class="headerlink" href="#expected-behavior" title="Permanent link">&para;</a></h3>
<p>Participants must consider the following conditions and constraints in their command implementations.</p>
<h4 id="success-behavior">Success behavior<a class="headerlink" href="#success-behavior" title="Permanent link">&para;</a></h4>
<ul>
<li>The save or load command must respond with a success status code (2xx or 3xx, typically with 204 and an empty body).</li>
<li>If there is no data to load, the command must reset its app to its initial state (no axes defined, no PLC program available, etc.). Related app data must completely be removed from the active configuration.</li>
<li>If a phase is not relevant or unknown to the command, the command must respond with the status code 204 (and an empty body).</li>
</ul>
<h4 id="failure-behavior">Failure behavior<a class="headerlink" href="#failure-behavior" title="Permanent link">&para;</a></h4>
<ul>
<li>The save or load command must respond with an error status code (4xx or 5xx).</li>
<li>The response body must contain a JSON object describing the occurred problem (see "Problem Schema Definition" in the Appendix for the required format).</li>
<li>The Solutions frontend reports the following fields of the problem response for every failed save or load command:</li>
<li>mainDiagnosisCode and title</li>
<li>detailedDiagnosisCode and detail</li>
<li>dynamicDescription incl. the id of the save or load operation (see example below)</li>
</ul>
<p>The dynamicDescription field can provide specific information for the user, like the cause of the failure and hints how to resolve it (if cause and hint are not already provided through the main and detailed diagnosis). The field may contain “\n“ to separate cause and hint in the result output of the UI, e.g.</p>
<ul>
<li>“Failed to load plc runtime data” &lt;=&gt; DynamicDescription: “PLC is running.\nStop PLC before loading. [282xy5]”</li>
<li>“Failed to load motion settings” &lt;=&gt; DynamicDescription: “Axes in run mode.\nSwitch axes to configuration mode. [282xy5]”</li>
<li>“Failed to load motion settings” &lt;=&gt; DynamicDescription: “Format error in X.json.\nAdapt file or use motion editor to fix/recreate axis. [282xy5]”</li>
</ul>
<h4 id="diagnostic-messages">Diagnostic messages<a class="headerlink" href="#diagnostic-messages" title="Permanent link">&para;</a></h4>
<p>The Solutions app only logs a general diagnostic message on start and finish of a save and load operation. Each participant should additionally log its own activities and occurred problems into the control’s Logbook. Any diagnostic message or trace message related to saving or loading should include the current id at the end of the dynamic description in square brackets.</p>
<p>Example of diagnostic entries as they would appear in the Logbook:</p>
<table>
<thead>
<tr>
<th>Level</th>
<th>Date</th>
<th>Unit</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Info</td>
<td>06/04/2020, 10:33:11.964</td>
<td>web.solutions</td>
<td>080A0401</td>
<td>Loading configuration successfully finished [282xy5]</td>
</tr>
<tr>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr>
<td>...</td>
<td>...</td>
<td>...</td>
<td>\&lt;main diag code><br>\&lt;detailed diag code></td>
<td>\&lt;main diag text><br>\&lt;detailed diag text><br>\&lt;dynamic description text> [282xy5]<br>\&lt;entity text></td>
</tr>
<tr>
<td>Info</td>
<td>06/04/2020, 10:31:20.733</td>
<td>web.automation</td>
<td>\&lt;main diag code></td>
<td>Trace message\&lt;component name><br>Scheduler successfully prepared for loading [282xy5]</td>
</tr>
<tr>
<td>Info</td>
<td>06/04/2020, 10:31:19.820</td>
<td>web.solutions</td>
<td>080A0400</td>
<td>Loading configuration started [282xy5]</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Note:</strong>
The id of a save or load operation can also be found on and copied from the "Manage app data" page (Save or Load report) in order to search for corresponding messages in the Logbook. The diagnostic numbers may be used to find the beginning and end of the respective operation in the Logbook, e.g. "080A0400" denoting "Loading configuration started".</p>
</blockquote>
<h4 id="robustness">Robustness<a class="headerlink" href="#robustness" title="Permanent link">&para;</a></h4>
<p>Command implementations must be robust with respect to the following conditions:</p>
<ul>
<li>The order in which requests are sent to the participants within a phase is undefined.</li>
<li>Any command that is executed before or after a specific other command may fail.</li>
<li>Invalid data or problems in general must not break the application, but should result in a user-friendly problem response or diagnostic message.</li>
<li>The set of save and load phases may be extended. Participants must therefore respond to unknown phases with status code 204.</li>
<li>New parameters may be added to the command request body to enable advanced use cases.</li>
</ul>
<h4 id="invariants">Invariants<a class="headerlink" href="#invariants" title="Permanent link">&para;</a></h4>
<p>The coordinator (Solutions app) ensures the following properties:</p>
<ul>
<li>The activeConfiguration symlink is available and points to the directory containing the currently active appdata.</li>
<li>Only a single save or load operation is processed at a time.</li>
<li>The sequence of calls which are made to perform a save or load operation adheres to the specification (cf. Appendix).</li>
<li>When a participant does not respond to a request, the request is canceled and reported as problem. Processing continues.</li>
<li>Problems are collected and reported to the user, start and end messages for save and load operations are written to the Logbook.</li>
</ul>
<h3 id="from-copying-to-smart-loading">From copying to smart loading<a class="headerlink" href="#from-copying-to-smart-loading" title="Permanent link">&para;</a></h3>
<p>Apps must update their appdata sub-directory contents during the load operation to reflect the data which has been loaded and is now active in the apps.</p>
<p>A first basic implementation may be to just copy the directory contents from the "configuration to load" to the corresponding appdata sub-directory. The Solutions app provides a default implementation of this file copy functionality. To activate this functionality, use the copyOnLoad option in your app directory declarations (cf. section "Specify your app directories").</p>
<p>The following example shows how a set of copyOnLoad declarations would be applied for a given configuration:</p>
<p><strong>Example app directory declarations (pseudo code):</strong></p>
<div class="codehilite"><pre><span></span><code>a/b: copyOnLoad=false
a/b/c: copyOnLoad=true
a/b/c/h: copyOnLoad=false
</code></pre></div>

<p><strong>Directories in the configuration to load:</strong></p>
<div class="codehilite"><pre><span></span><code>a
a/b
a/b/c/d
a/b/c/h
a/b/e/f
a/g
</code></pre></div>

<p><strong>Result showing which directories would be copied (and why):</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">a</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="o">(</span><span class="k">default</span><span class="o">,</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">declared</span><span class="o">)</span><span class="w"></span>
<span class="n">b</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="o">(</span><span class="n">declared</span><span class="o">)</span><span class="w"></span>
<span class="n">c</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="o">(</span><span class="n">declared</span><span class="o">)</span><span class="w"></span>
<span class="n">d</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="o">(</span><span class="n">inherited</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">c</span><span class="o">)</span><span class="w"></span>
<span class="n">h</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="o">(</span><span class="n">declared</span><span class="o">)</span><span class="w"></span>
<span class="n">e</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="o">(</span><span class="n">inherited</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">b</span><span class="o">)</span><span class="w"></span>
<span class="n">f</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="o">(</span><span class="n">inherited</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">e</span><span class="o">)</span><span class="w"></span>
<span class="n">g</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="o">(</span><span class="n">inherited</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="o">)</span><span class="w"></span>
</code></pre></div>

<p>However, an app might improve the load functionality by evaluating the changes to be applied during load. The app may determine that state changes (e.g., stopping the PLC for loading) are actually not required depending on the kind of data to load. Some participants may even be able to skip a load operation completely if their part of the configuration has not changed.</p>
<p>If you want to take control and be able to evaluate differences between the configuration files and the appdata files,</p>
<ul>
<li>declare your base directory or specific sub-directories you would like to handle yourself in the package manifest</li>
<li>omit the copyOnLoad option (or set copyOnLoad to "false")</li>
</ul>
<blockquote>
<p><strong>Note:</strong>
For compatibility reasons with previous ctrlX CORE releases, copyOnLoad is executed before the "prepare" phase. If you do not use copyOnLoad, you should persist your app data in the "load" phase as specified; see the "Annotated load process" in the Appendix for details</p>
</blockquote>
<h2 id="appendix">Appendix<a name="appendix"></a><a class="headerlink" href="#appendix" title="Permanent link">&para;</a></h2>
<h3 id="annotated-load-process">Annotated load process<a class="headerlink" href="#annotated-load-process" title="Permanent link">&para;</a></h3>
<p><img alt="image" src="images/How-To-Persist-app-data-Fig03_Annotated-Load-Process.png" /></p>
<h3 id="example-loading-sequences">Example loading sequences<a class="headerlink" href="#example-loading-sequences" title="Permanent link">&para;</a></h3>
<h4 id="cancelled">Cancelled<a class="headerlink" href="#cancelled" title="Permanent link">&para;</a></h4>
<p><img alt="image" src="images/How-To-Persist-app-data-Fig04_Loading%28CANCELED%29.png" /></p>
<h4 id="succeeded">Succeeded<a class="headerlink" href="#succeeded" title="Permanent link">&para;</a></h4>
<p><img alt="image" src="images/How-To-Persist-app-data-Fig05_Loading%28SUCCEEDED%29.png" /></p>
<h4 id="failed">Failed<a class="headerlink" href="#failed" title="Permanent link">&para;</a></h4>
<p><img alt="image" src="images/How-To-Persist-app-data-Fig06_Loading%28FAILED%29.png" /></p>
<h3 id="problem-schema-definition">Problem schema definition<a class="headerlink" href="#problem-schema-definition" title="Permanent link">&para;</a></h3>
<p>Failure responses to command requests must adhere to the following schema:</p>
<p><strong>Problem.yaml</strong></p>
<div class="highlight"><pre><span></span><code><span class="nt">Problem</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span><span class="w"></span>
<span class="w">  </span><span class="nt">x-version</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;1.0.0&#39;</span><span class="w"></span>
<span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">&gt;</span><span class="w"></span>
<span class="w">    </span><span class="no">This document defines a &quot;problem detail&quot; as a way</span><span class="w"></span>
<span class="w">    </span><span class="no">to carry machine-readable details of errors in a</span><span class="w"></span>
<span class="w">    </span><span class="no">HTTP response to avoid the need to define new error</span><span class="w"></span>
<span class="w">    </span><span class="no">response formats for HTTP APIs.</span><span class="w"></span>
<span class="w">  </span><span class="nt">required</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">type</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">title</span><span class="w"></span>
<span class="w">  </span><span class="nt">properties</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"></span>
<span class="w">      </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uri</span><span class="w"></span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="w"></span>
<span class="w">        </span><span class="no">A URI reference [RFC3986] that identifies the problem type.</span><span class="w"></span>
<span class="w">        </span><span class="no">This specification encourages that, when dereferenced,</span><span class="w"></span>
<span class="w">        </span><span class="no">it provide human-readable documentation for the problem type</span><span class="w"></span>
<span class="w">        </span><span class="no">(e.g., using HTML [W3C.REC-html5-20141028]). When this member</span><span class="w"></span>
<span class="w">        </span><span class="no">is not present, its value is assumed to be &quot;about:blank&quot;.</span><span class="w"></span>
<span class="w">      </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;about:blank&#39;</span><span class="w"></span>
<span class="w">      </span><span class="nt">example</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;https://example.com/probs/out-of-credit&#39;</span><span class="w"></span>
<span class="w">    </span><span class="nt">title</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"></span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="w"></span>
<span class="w">        </span><span class="no">A short, human-readable summary of the problem type.</span><span class="w"></span>
<span class="w">        </span><span class="no">It SHOULD NOT change from occurrence to occurrence of the problem,</span><span class="w"></span>
<span class="w">        </span><span class="no">except for purposes of localization (e.g., using proactive content</span><span class="w"></span>
<span class="w">        </span><span class="no">negotiation; see [RFC7231], Section 3.4).</span><span class="w"></span>
<span class="w">      </span><span class="nt">example</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">You do not have enough credit.</span><span class="w"></span>
<span class="w">    </span><span class="nt">status</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer</span><span class="w"></span>
<span class="w">      </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">int32</span><span class="w"></span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="w"></span>
<span class="w">        </span><span class="no">The HTTP status code ([RFC7231], Section 6) generated by the</span><span class="w"></span>
<span class="w">        </span><span class="no">origin server for this occurrence of the problem.</span><span class="w"></span>
<span class="w">      </span><span class="nt">example</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">403</span><span class="w"></span>
<span class="w">    </span><span class="nt">detail</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"></span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="w"></span>
<span class="w">        </span><span class="no">A human-readable explanation specific to this occurrence of the problem.</span><span class="w"></span>
<span class="w">      </span><span class="nt">example</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Your current balance is 30, but that costs 50.</span><span class="w"></span>
<span class="w">    </span><span class="nt">instance</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"></span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="w"></span>
<span class="w">        </span><span class="no">A URI reference that identifies the specific occurrence of the problem.</span><span class="w"></span>
<span class="w">        </span><span class="no">It may or may not yield further information if dereferenced.</span><span class="w"></span>
<span class="w">      </span><span class="nt">example</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/account/12345/msgs/abc</span><span class="w"></span>
<span class="w">    </span><span class="nt">code</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"></span>
<span class="w">      </span><span class="nt">deprecated</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="w"></span>
<span class="w">        </span><span class="no">An error code issued by the system that caused the original problem.</span><span class="w"></span>
<span class="w">        </span><span class="no">This code can be used to track down the root cause of the error.</span><span class="w"></span>
<span class="w">      </span><span class="nt">example</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">F360001</span><span class="w"></span>
<span class="w">    </span><span class="nt">mainDiagnosisCode</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"></span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="w"></span>
<span class="w">        </span><span class="no">The main diagnosis code is issued by the system that caused the problem.</span><span class="w"></span>
<span class="w">        </span><span class="no">This code can be used to track down the root cause and source of the error.</span><span class="w"></span>
<span class="w">        </span><span class="no">It can be used to search in the documentation for a solution.</span><span class="w"></span>
<span class="w">        </span><span class="no">It SHOULD NOT change from occurrence to occurrence of the same problem.</span><span class="w"></span>
<span class="w">      </span><span class="nt">example</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">080F0100</span><span class="w"></span>
<span class="w">    </span><span class="nt">detailedDiagnosisCode</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"></span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="w"></span>
<span class="w">        </span><span class="no">The detailed diagnosis code issued by the system that caused the problem.</span><span class="w"></span>
<span class="w">        </span><span class="no">This code can be used to track down the detailed cause and source of the error.</span><span class="w"></span>
<span class="w">        </span><span class="no">It can be used to search in the documentation for a solution.</span><span class="w"></span>
<span class="w">        </span><span class="no">The detailed diagnosis code gives additional information about the cause of the error.</span><span class="w"></span>
<span class="w">        </span><span class="no">It SHOULD NOT change from occurrence to occurrence of the same problem.</span><span class="w"></span>
<span class="w">      </span><span class="nt">example</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;00666001&#39;</span><span class="w"></span>
<span class="w">    </span><span class="nt">dynamicDescription</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"></span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="w"></span>
<span class="w">        </span><span class="no">A dynamic description gives detailed information about the occurrence of a problem.</span><span class="w"></span>
<span class="w">        </span><span class="no">It can change between different occurrences of the same error.</span><span class="w"></span>
<span class="w">      </span><span class="nt">example</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">value = -4.5</span><span class="w"></span>
<span class="w">    </span><span class="nt">severity</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"></span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;</span><span class="w"></span>
<span class="w">        </span><span class="s">Severity</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">problem</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="s">defined</span><span class="nv"> </span><span class="s">RFC5424</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">Syslog</span><span class="nv"> </span><span class="s">standard,</span><span class="nv"> </span><span class="s">see</span><span class="nv"> </span><span class="s">https://tools.ietf.org/html/rfc5424&#39;</span><span class="w"></span>
<span class="w">      </span><span class="nt">example</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Error</span><span class="w"></span>
<span class="w">      </span><span class="nt">enum</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Emergency</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Alert</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Critical</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Error</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Warning</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Notice</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Informational</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Debug</span><span class="w"></span>
<span class="w">    </span><span class="nt">links</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">array</span><span class="w"></span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="w"></span>
<span class="w">        </span><span class="no">Collection of links to fix the problem. E.g. links to online user manual,</span><span class="w"></span>
<span class="w">        </span><span class="no">to an online community (using tags) or a developer chat (e.g. Slack).</span><span class="w"></span>
<span class="w">      </span><span class="nt">items</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"></span>
<span class="w">        </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uri</span><span class="w"></span>
<span class="w">        </span><span class="nt">example</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://stackoverflow.com/questions/tagged/boschrexroth+controlx+f360001</span><span class="w"></span>
<span class="w">    </span><span class="nt">moreInfo</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span><span class="w"></span>
<span class="w">      </span><span class="nt">additionalProperties</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">      </span><span class="nt">example</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">trace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ExampleClass.cpp#452 Null pointer exception</span><span class="w"></span>
<span class="w">        </span><span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ExampleClass</span><span class="w"></span>
</code></pre></div>
<h3 id="app-private-files">App-private files<a class="headerlink" href="#app-private-files" title="Permanent link">&para;</a></h3>
<p>(Supported from XCR-V-0112)</p>
<p>Apps may need to store files in their appdata directories which are only needed at runtime. These files (or directories) have to be ignored on loading and when saving the appdata to an archived configuration.</p>
<p>An app can specify such files using the "appPrivateFiles" element in the configuration section of its manifest. The element value is an array of strings where each string represents a regular expression following the RE2 syntax (https://golang.org/s/re2syntax). The expressions describe paths and names of files to be considered as private and are checked case-insensitively.</p>
<p>The following example shows the declaration of "appPrivateFiles" with 3 regular expressions and the declaration of the app's root directory:</p>
<p><strong>package-manifest.json</strong></p>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;configuration&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;appPrivateFiles&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;^my-app/private/&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;^my-app/mixed/[^/]+\\.bak&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">&quot;^my-app/mixed/$&quot;</span><span class="w"></span>
<span class="w">  </span><span class="p">],</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;appDirectories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;my-app&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;My app&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bosch-ic-components&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;copyOnLoad&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>Apps should only specify private files in their own app directories. Therefore, it is a good practice to start each regular expression with "^my-app/" where my-app is a root app directory of the app.</p>
<p>Hints for the regular expressions: The characters "[]().\^\$|?*+{}" have special meanings and must be escaped with "\" to be used uninterpreted. "^" matches the start of the string, "$" matches the end of the string. To provide "\\" in the manifest file which is in JSON format, you have to double it because the backslash is an escape character in JSON too.</p>
<p>Examples for regular expressions (with an app root directory of "my-app")</p>
<table>
<thead>
<tr>
<th>Regular expression</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>"^my-app/private/"</td>
<td>defines the my-app/private directory and its content as private</td>
</tr>
<tr>
<td>"<sup>my-app/mixed/[</sup>/]+..bak"</td>
<td>defines all files with extension .bak within the my-app/mixed directory as private</td>
</tr>
<tr>
<td>"^my-app/mixed/$"</td>
<td>defines the my-app/mixed directory itself as private so that it is not removed if empty</td>
</tr>
</tbody>
</table>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="appdevguide.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Developer Guideline" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Developer Guideline
            </div>
          </div>
        </a>
      
      
        
        <a href="licensing.html" class="md-footer__link md-footer__link--next" aria-label="Next: License Management" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              License Management
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2020-2021 Bosch Rexroth AG
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/boschrexroth" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://twitter.com/boschrexroth" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.instant", "navigation.tabs", "navigation.sections"], "search": "assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.748e2769.min.js"></script>
      
    
  </body>
</html>